<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/favicon.ico?v=5.1.4" color="#222">





  <meta name="keywords" content="学而时习之不亦乐乎" />










<meta name="description" content="记录成长路上的点点滴滴">
<meta property="og:type" content="website">
<meta property="og:title" content="时习之">
<meta property="og:url" content="http://blog.guorongfei.com/page/5/index.html">
<meta property="og:site_name" content="时习之">
<meta property="og:description" content="记录成长路上的点点滴滴">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="时习之">
<meta name="twitter:description" content="记录成长路上的点点滴滴">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.guorongfei.com/page/5/"/>





  <title>时习之</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">时习之</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">学而时习之，不亦说乎</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.guorongfei.com/2016/04/22/more-exceptional-cpp-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郭荣飞">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时习之">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/22/more-exceptional-cpp-note/" itemprop="url">读书札记之 —— 《More Exceptional C++》</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-22T17:14:09+08:00">
                2016-04-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/04/22/more-exceptional-cpp-note/" class="leancloud_visitors" data-flag-title="读书札记之 —— 《More Exceptional C++》">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>和《More Effective C++》中的<code>more</code>不一样的是，这本书的<code>more</code>体现在广度上而不是
深度上。《Exceptional C++》一书的已经是非常有深度的一本书了（或者说是比较难的一
本书了），这本书是前者在其他内容上的扩展。</p>
<p>这本书涉及到很多内容，包括范型模板、性能调优等等方面。个认识收获最多的是
<code>traits</code>类的使用。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/04/22/more-exceptional-cpp-note/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.guorongfei.com/2016/04/18/wanqin-minguo-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郭荣飞">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时习之">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/18/wanqin-minguo-note/" itemprop="url">读书札记之 —— 《从晚晴到民国》</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-18T10:47:17+08:00">
                2016-04-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/04/18/wanqin-minguo-note/" class="leancloud_visitors" data-flag-title="读书札记之 —— 《从晚晴到民国》">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>这是一部有趣的“野史”，让我了解到正史（教科书）之外的各种史料和观点，给我的感觉
是醍醐灌顶，耳目一新。我高中学文科，对这一段的历史还算了解，书中提到的大事基本
熟悉，只是作者站在一个全新的角度去看待这些事情，给人的体会自然也就不一样了。</p>
<p>《从晚晴到民国》这本书是《晚期七十年》一书的删减版本，至于删减了什么东西我不太
清楚，不过剩下的东西很值得一读。本书覆盖了鸦片战争（1840）年到辛亥革命（1911）
这七十年左右的历史，按照作者的历史转型观点，这段时期十几年发生一次巨变，应该也
就是所谓穷则变，变则通，不通再变，循环往复。这段时期大概是200年，我们目前还处于
这样一个时期，也许不久的将来还会大变。</p>
<p>这段历史是我们的国难史，这段历史当中的国人身处水火之中，人命如蝼蚁，惨不堪言。
在内忧外患之中，我们能够保持领土完整、主权独立可以说是不幸中的万幸。我们之所以
没有沦落为殖民地很大一部分的原因在于那些在民族危亡之际挺身而出的民族英雄。我读
这本书，最吸引我的内容也就是这些人的英雄事迹，他们理当名垂青史，流芳百世。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/04/18/wanqin-minguo-note/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.guorongfei.com/2016/04/10/exceptional-cpp-not/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郭荣飞">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时习之">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/10/exceptional-cpp-not/" itemprop="url">读书札记之 —— 《Exceptional C++》</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-10T21:27:21+08:00">
                2016-04-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/04/10/exceptional-cpp-not/" class="leancloud_visitors" data-flag-title="读书札记之 —— 《Exceptional C++》">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>萨特是 ISO C++标准委员会主席， C++/CLI首席架构师，久负盛名之人，书的质量自然不
用怀疑。这本书是<code>Exceptional</code>系列书籍的第一本，很多人觉得这个系列可以和梅耶的
<code>Effective</code>系列相媲美，虽然名气上它似乎不如后者。梅耶的书读起来很有趣，像一个逗
比给你讲故事，萨特的书读起来相对沉重一些，更像一个老教授在你身边耳提面命。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/04/10/exceptional-cpp-not/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.guorongfei.com/2016/04/01/effective-stl-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郭荣飞">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时习之">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/01/effective-stl-note/" itemprop="url">读书札记之 —— 《Effective STL》</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-01T19:28:21+08:00">
                2016-04-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/04/01/effective-stl-note/" class="leancloud_visitors" data-flag-title="读书札记之 —— 《Effective STL》">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p><code>Scott Meyers</code> 的书，似乎每一本都值得一读再读，这本书我是第二次读。上次读这本书
基本上是在车上读完的，那时候在公司实习，上下班的路上读完这本书，不厚，但是很值
得人回味。</p>
<p>那时候对于<code>STL</code>并不理解，至少比现在理解的要少一些，所以很快就忘了书里说了些什么
。以至于后来看到《深入理解C++11》这本书引用《Effective STL》一书的内容的时候没
有半点印象，这也是我打算重读这本书的原因。</p>
<p>看这本书之前，我看了《C++ 标准库》这本砖头书，对于标准库中的各个组件有了更加深
刻的理解，所以再次看这本书的时候，感悟和第一次读的时候有很大的区别。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/04/01/effective-stl-note/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.guorongfei.com/2016/04/01/practical-vim-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郭荣飞">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时习之">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/04/01/practical-vim-note/" itemprop="url">读书札记之 —— 《Vim 实用技巧》</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-04-01T11:10:30+08:00">
                2016-04-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/04/01/practical-vim-note/" class="leancloud_visitors" data-flag-title="读书札记之 —— 《Vim 实用技巧》">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Tips1-你应该从今天就开始阅读"><a href="#Tips1-你应该从今天就开始阅读" class="headerlink" title="Tips1 你应该从今天就开始阅读"></a>Tips1 你应该从今天就开始阅读</h1><p>这是我第三次尝试读完这本书，也是第一次成功读完它。前两次读这本书的时候总是各种
原因读了几章之后就放弃了，不是书不好，只是那时候没有足够的时间和耐性。<code>Tips</code>性
质的书籍总会让我觉得，嗯，明天再读下一条<code>Tips</code>也可以，反正前后也没有太大的联系
，于是明天之后的明天的明天我还是没有把这本书看完。也许我早些读完这本书，我不会
自不量力的写那些关于Vim的文章，因为那些文章看上去有些误人子弟了。</p>
<h1 id="Tips2-理解快捷键的内在逻辑"><a href="#Tips2-理解快捷键的内在逻辑" class="headerlink" title="Tips2 理解快捷键的内在逻辑"></a>Tips2 理解快捷键的内在逻辑</h1><p>毋庸置疑的是这是一本非常好的Vim书籍，我用Vim已经有两年左右的历史了，但是看完之
后还是觉得自己是小学生的水平。Vim的使用不是简简单单的记住几个快捷键就可以的，很
多时候，我们需要知道这些快捷键的内在逻辑。</p>
<h1 id="Tips3-慢点开始，因为你可能走错了方向"><a href="#Tips3-慢点开始，因为你可能走错了方向" class="headerlink" title="Tips3 慢点开始，因为你可能走错了方向"></a>Tips3 慢点开始，因为你可能走错了方向</h1><p>我从一开始用Vim的时候就可以使用各种vimrc的配置，使用自定义的一些快捷键完成自己
更高效的一些操作。现在想来一开始就是错的。我们需要花时间去把锯子磨利，而一开始
胡乱的配置只会让我们把锯子越磨越钝，作者说的对，其实很可能我们磨错了边。</p>
<h1 id="Tips4-不要太过于依赖插件"><a href="#Tips4-不要太过于依赖插件" class="headerlink" title="Tips4 不要太过于依赖插件"></a>Tips4 不要太过于依赖插件</h1><p>我之前学习Vim，最先想到的是它的插件，因为我一直认为Vim核心功能很少，功能不够强
大。实际上，Vim的核心功能已经非常强大，只是我一直不知道。在使用插件之前先考虑一
下你的功能是否可以使用核心功能完成。</p>
<p>之所以这么说，是因为核心功能的适用性要比插件广泛太多，你可以使用IDE中安装Vim模
拟器来使用Vim的核心功能，但是你没有办法在IDE的Vim模拟器中使用Vim的插件。Vim的核
心功能是放之四海而皆准的东西，这些东西相当于是一个人的内功，插件通常只是招式。</p>
<h1 id="Tips5-移动光标的方式不只有-hjkl"><a href="#Tips5-移动光标的方式不只有-hjkl" class="headerlink" title="Tips5 移动光标的方式不只有 hjkl"></a>Tips5 移动光标的方式不只有 <code>hjkl</code></h1><p>对于初学Vim的人来说，它最奇怪的地方估计是使用<code>hjkl</code>来替代方向键。之所以使用这四
个键是一个历史遗留问题，原因可以参考之前写过<a href="/2015/09/03/vim-shortcut/">编辑利器 Vim 之快捷键配置
</a>一文。</p>
<p>这四个按键的效率比方向键效率高很多，因为你不用偏离键盘的关键行（也就是<code>hjkl</code>一
行）。因为这种诡异性和便捷性，我一度以为移动光标最快的方式是 <code>hjkl</code> 这四个键。
然而实际上，这是大错特错。</p>
<p>对于同一行的移动，<code>hl</code>是最慢的方式，因为它们的移动是以字符为单位的。<code>w,e,b,ge</code>
这四个键比前面两个要快很多，因为它们是基于单词的（当然还有大写的W和E等对应版本
）。可是最快的方式是<code>f, F, t, T</code>结合<code>;</code>和<code>,</code>，因为它们很多时候可以直达你想要到
达的地方。比如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>光标在<code>#</code>的时候，想要把 <code>iostream</code> 替换成 <code>string</code>，使用<code>l</code>移动到目标位置，你需
要按<code>10</code>次，使用<code>w</code>你需要<code>3</code>次，使用<code>f</code>你只需要<code>1</code>次<code>fo</code>就可以了（然后使用 ciw 进
行替换）。</p>
<p>如果你想要在行之间移动，<code>jk</code>这两个按键同样不是最快的方式，因为它们一次只能移动
一行，使用<code>/</code>这种方式通常会快很多。没错就是搜索，你可以通过搜索快速的到达你想要
的位置，对我来说，这是一种思维方式的转变。<code>Vj</code>可以选择两行代码，<code>V/}</code>可以通常可
以选择一块代码。当然最快的还不是这个，使用 <code>vi}</code> 你可以以最快的方式选择代码块中
的内容，对我来说，这是神技。</p>
<h1 id="Tips6-正则表达式很重要"><a href="#Tips6-正则表达式很重要" class="headerlink" title="Tips6 正则表达式很重要"></a>Tips6 正则表达式很重要</h1><p>最近总是和正则表达式打交道，从使用<code>Python</code>的正则表达式写爬虫开始，到后来从《程
序设计实践》一书中了解<code>grep</code>的实现，再到后来看<code>C++11</code>的正则表达式库。现在发现
Vim中无处不在的正则表达式。搜索可以用正则，替换可以用正则，global命令还是可以用
正则。</p>
<h1 id="Tips7-Vim-自带自动补全功能"><a href="#Tips7-Vim-自带自动补全功能" class="headerlink" title="Tips7 Vim 自带自动补全功能"></a>Tips7 Vim 自带自动补全功能</h1><p>很多人不用文本编辑器的原因很简单，因为他们认为只有IDE才有自动补全功能。实际上，
Vim自动自动补全功能，而且非常强大。即使不用 <code>YouCompleteMe</code>这一类的插件你也可以
得到非常好的补全功能。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.guorongfei.com/2016/03/26/cppx-stdlib-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郭荣飞">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时习之">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/26/cppx-stdlib-note/" itemprop="url">读书札记之 —— 《C++ 标准库（第二版）》</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-26T13:13:33+08:00">
                2016-03-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/03/26/cppx-stdlib-note/" class="leancloud_visitors" data-flag-title="读书札记之 —— 《C++ 标准库（第二版）》">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>呼……这本书总算是看完了，前前后后看这本书大概花了二十来天，总算看完了（更准确的
说是翻完了）这本砖头一样厚（还是块加厚版的砖）的书。</p>
<p>你要是问我记住了些什么，我只能说啥也没记住，C++标准库的内容终究还是太多，细节太
多，能装在脑子里的东西真的很少。其实我在看这本书之前就知道会是这个结果，所以也
没有觉得自己白读了这本书，留在脑海中不是也不应该是具体的细节，而是关于标准库的
一些感悟，前面读这本书的时候陆陆续续也有写一些文章来记录这些东西。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/26/cppx-stdlib-note/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.guorongfei.com/2016/03/17/cppx-end-of-stream-iterator/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郭荣飞">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时习之">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/17/cppx-end-of-stream-iterator/" itemprop="url">C++11 中使用 {} 作为串流迭代器 EOF</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-17T09:53:36+08:00">
                2016-03-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/03/17/cppx-end-of-stream-iterator/" class="leancloud_visitors" data-flag-title="C++11 中使用 {} 作为串流迭代器 EOF">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><code>stream iterator</code> 是一种神奇的迭代器适配器，它让我们可以使用 <code>STL</code> 算法操纵输
入输出流，比如把 <code>vector</code> 中的内容全部输出，可以简单的写成这样。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; coll = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;;</span><br><span class="line">copy(coll.cbegin(), coll.cend(), ostream_iterator&lt;<span class="keyword">int</span>&gt;(<span class="built_in">cout</span>, <span class="string">" "</span>));</span><br></pre></td></tr></table></figure>
<p>当然你也可以使用这种方式处理输入，比如从标准输入中输入元素到 <code>vector</code> 中去。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; coll;</span><br><span class="line">copy(istream_iterator&lt;<span class="keyword">int</span>&gt;(<span class="built_in">cin</span>),    <span class="comment">// start of source</span></span><br><span class="line">     istream_iterator&lt;<span class="keyword">int</span>&gt;(),       <span class="comment">// end of source</span></span><br><span class="line">     back_inserter(coll));          <span class="comment">// destination</span></span><br></pre></td></tr></table></figure>
<p><code>istream_iterator</code> 要比 <code>ostream_iterator</code> 难用一些，因为你必须要使用一个
<code>EOF</code> 表示输入的结束，这个概念可以用 <code>istream_iterator</code> 的默认构造函数产生的对
象表示。也就是上面这个 <code>istream_iterator&lt;int&gt;()</code>。</p>
<p>这种语法看起来比较诡异，我在看 《C++ 标准库》<a href="我读的是第二版，包含最新的`C++11`标准库内容">^1</a>这本书的勘误的时候发现了一种新
的语法，直接使用<code>{}</code>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">copy (istream_iterator&lt;<span class="built_in">string</span>&gt;(<span class="built_in">cin</span>), <span class="comment">// start of source</span></span><br><span class="line">      &#123;&#125;,                            <span class="comment">// end of source</span></span><br><span class="line">                                     <span class="comment">//(default constructed istream iterator)</span></span><br><span class="line">      back_inserter(coll));          <span class="comment">// destination</span></span><br></pre></td></tr></table></figure>
<p>之所以可以这样做主要归功于 <code>C++11</code> 统一了初始化语法，可以在任何地方使用 <code>{}</code>
来初始化，在 <code>copy</code> 中，因为我们可以根据第一个参数推导出第二个参数的类型，所以
可以直接通过 <code>{}</code> 来调用默认的构造函数创建代表 <code>EOF</code> 的迭代器。</p>
<p><a href="http://www.cppstdlib.com/errata.html" target="_blank" rel="noopener">勘误</a>的原话如下：</p>
<blockquote>
<p>Note that since C++11, you can pass empty curly braces instead of a default
constructed stream iterator as the end of the range. This works because the
type of the argument that defines the end of the range is deduced from the
previous argument that defines the begin of the range:</p>
</blockquote>
<p>另外需要提醒的是，《C++ 标准库》的中文译本应该是基于第一次印刷版本翻译的，原书
有一些错误，在英文版的<a href="http://www.cppstdlib.com/errata.html" target="_blank" rel="noopener">勘误</a>中有修正，大家如果读这本书应该关注一些它的
勘误，以免被一些错误所误导。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.guorongfei.com/2016/03/16/cppx-stdlib-empalce/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郭荣飞">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时习之">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/16/cppx-stdlib-empalce/" itemprop="url">C++11 中的 emplace</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-16T13:21:33+08:00">
                2016-03-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/03/16/cppx-stdlib-empalce/" class="leancloud_visitors" data-flag-title="C++11 中的 emplace">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>最近读《C++ 标准库》这本书，发现<code>C++11</code>中大部分的容器对于添加元素除了传统的
<code>insert</code> 或者　<code>pusb_back/push_front</code> 之外都提供一个新的函数叫做　<code>emplace</code>。
比如如果你想要向 <code>std::vector</code> 的末尾添加一个数据，你可以：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums;</span><br><span class="line">nums.push_back(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>你也可以使用：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; nums;</span><br><span class="line">nums.empace_back(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>那么这两种方式的区别到底是什么呢？在《C++标准库》一书中没有给出解释，我查了一
下相关的资料，在此做一个总结。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/16/cppx-stdlib-empalce/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.guorongfei.com/2016/03/13/cpp-aggregate-initlization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郭荣飞">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时习之">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/13/cpp-aggregate-initlization/" itemprop="url">C++中的聚合初始化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-13T15:21:58+08:00">
                2016-03-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/03/13/cpp-aggregate-initlization/" class="leancloud_visitors" data-flag-title="C++中的聚合初始化">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>C++标准库中提供两个容器表示数组这个概念：array表示静态数组，vector表示动态数组
。这两个类型都可以使用列表初始化（list initilization）来初始化。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">array</span>&lt;<span class="keyword">int</span>, 5&gt; = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;   = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br></pre></td></tr></table></figure>
<p>乍看上去没什么好奇怪的，毕竟都是 STL 中的容器，提供类似的初始化接口没有什么特
别的，而且 C++11 中提供的 <code>initilizer_list</code> 也让上面这种语法变得非常的普遍，接
受一个 <code>initilizer_list</code> 参数的构造函数甚至有一个专有术语 <code>initializer-list
constructor</code>，比如<code>vector</code>就有这样一个构造函数：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>( <span class="built_in">std</span>::<span class="built_in">initializer_list</span>&lt;T&gt; init,</span><br><span class="line">        <span class="keyword">const</span> Allocator&amp; alloc = Allocator() );</span><br></pre></td></tr></table></figure>
<p>这一切看上去都合情合理，直到我发现，<code>array</code> 没有显式定义任何的构造函数。也就是
说它的这种初始化根本就没有用到 C++11 中的任何特性，你甚至可以在 C++98 中使用这
样的语法初始化它。</p>
<p>那么这一切又是如何做到的呢？答案是它使用了 C++ 的另一个特性：聚合初始化（
<code>aggregate initialization</code>）。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/13/cpp-aggregate-initlization/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.guorongfei.com/2016/03/10/python-like-str-formater-in-cpp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="郭荣飞">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/img/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="时习之">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/10/python-like-str-formater-in-cpp/" itemprop="url">C++中实现简单的Python风格字符串格式化函数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-03-10T16:44:04+08:00">
                2016-03-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/03/10/python-like-str-formater-in-cpp/" class="leancloud_visitors" data-flag-title="C++中实现简单的Python风格字符串格式化函数">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>前一段时间学习 <code>Python</code>，被这门语言的便利性惊艳到了，比如你可以这样产生一个字
符串：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># output "hello world, PI is 3.14"</span></span><br><span class="line"><span class="string">"&#123;&#125; world, PI is &#123;&#125;"</span>.format(<span class="string">"hello"</span>, <span class="number">3.14</span>)</span><br></pre></td></tr></table></figure>
<p>最近学习C++标准库，看到C++11新的变参模板，发现它可以用来实现一个简单的类似
<code>Python</code> 风格字符串格式化函数[^1]，语法如下：。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// output "hello world, PI is 3.14"</span></span><br><span class="line">FormateString(<span class="string">"&#123;&#125; world, PI is &#123;&#125;"</span>, <span class="string">"hello"</span>, <span class="number">3.14</span>)</span><br></pre></td></tr></table></figure>
<p>本文讲解一个非常简单的实现版本，不处理下面这样的语法：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// output "say you say me"</span></span><br><span class="line">FormateString(<span class="string">"&#123;0&#125; you &#123;0&#125; me"</span>, <span class="string">"say"</span>)</span><br></pre></td></tr></table></figure>
<p>如果你需要一个丰富的字符串格式化功能，可以考虑使用<a href="https://github.com/cppformat/cppformat" target="_blank" rel="noopener">cppformat</a>这个库。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2016/03/10/python-like-str-formater-in-cpp/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/img/avatar.jpg"
                alt="郭荣飞" />
            
              <p class="site-author-name" itemprop="name">郭荣飞</p>
              <p class="site-description motion-element" itemprop="description">记录成长路上的点点滴滴</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">105</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郭荣飞</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("V1PJeRmlN6tlfaIb6xQuuPF1-gzGzoHsz", "qGVK83JNhrlzwAxp4nqbD6iC");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
