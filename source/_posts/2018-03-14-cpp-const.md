---
title: C++ const 到底表示什么
date: 2018-03-14 13:35:46
tags:
 - C/CPP
---

这两天在看《CLR via C#》一书，发现C#在语法上区分了常量和只读两个概念，使用`const`关键字表示只读，使用`readonly`关键字表示只读。我当时转念一想，C++中对应的`const`如何表达这两种概念呢？细思之下发现，C++里面这个问题比我想象中的要复杂很多，特意写一篇文章记录一下。

<!--more-->

# 常量不等于常量表达式

我觉得弄清楚这个问题的关键点在于区分常量和常量表达式这个概念。我们可以用下面这个例子来说明：

```
const int size = 7;
int days[size];
```

上面这段代码在`C++`中是合法的（虽然你可能更应该使用`std::array`），但是在C99之前是不合法的（C99运行变长数组，和这里讨论的问题不属于同一个范畴）。
